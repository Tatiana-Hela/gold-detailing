<button id="openModalBtn">Заказать звонок</button>

<div id="modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Заказ звонка</h2>
        <form id="callOrderForm">
            <label for="nameInput">Имя:</label>
            <input type="text" id="nameInput" required />

            <label for="phoneInput">Номер телефона:</label>
            <input type="tel" id="phoneInput" required />

            <button type="submit">Заказать звонок</button>
        </form>
    </div>
</div>

<script>
    // script.js
    const openModalBtn = document.getElementById('openModalBtn');
    const modal = document.getElementById('modal');
    const closeBtn = document.getElementsByClassName('close')[0];
    const callOrderForm = document.getElementById('callOrderForm');

    openModalBtn.addEventListener('click', function () {
        modal.style.display = 'block';
    });

    closeBtn.addEventListener('click', function () {
        modal.style.display = 'none';
    });

    callOrderForm.addEventListener('submit', function (e) {
        e.preventDefault();

        const nameInput = document.getElementById('nameInput');
        const phoneInput = document.getElementById('phoneInput');

        const name = nameInput.value;
        const phoneNumber = phoneInput.value;

        // Отправка данных на сервер
        fetch('http://localhost:3000/call-order', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ name, phoneNumber }),
        })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                modal.style.display = 'none';
                nameInput.value = '';
                phoneInput.value = '';
            })
            .catch(error => {
                console.error('Ошибка при отправке данных:', error);
                alert(
                    'Произошла ошибка при отправке данных. Пожалуйста, попробуйте еще раз.'
                );
            });
    });
</script>